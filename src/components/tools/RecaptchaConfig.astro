---
import {
  PUBLIC_RECAPTCHA_SITE_KEY,
  PUBLIC_TOOLS_BACKEND_URL,
} from "astro:env/client";

const recaptchaSiteKey = (PUBLIC_RECAPTCHA_SITE_KEY ?? "").trim();
const toolsBackendUrl = (PUBLIC_TOOLS_BACKEND_URL ?? "").trim();
---

<div
  id="tool-captcha-config"
  class="hidden"
  aria-hidden="true"
  data-recaptcha-site-key={recaptchaSiteKey}
  data-ytdlp-backend-url={toolsBackendUrl}
>
</div>

{
  recaptchaSiteKey && (
    <script
      src="https://www.google.com/recaptcha/api.js?render=explicit"
      is:inline
      async
      defer
    />
  )
}
